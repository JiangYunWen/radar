{"remainingRequest":"D:\\vue\\radar\\node_modules\\thread-loader\\dist\\cjs.js!D:\\vue\\radar\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\radar\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue\\radar\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\radar\\src\\components\\LogicTopo\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\radar\\src\\components\\LogicTopo\\index.vue","mtime":1607328370809},{"path":"D:\\vue\\radar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596527896256},{"path":"D:\\vue\\radar\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1596528110531},{"path":"D:\\vue\\radar\\node_modules\\babel-loader\\lib\\index.js","mtime":1596527889887},{"path":"D:\\vue\\radar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596527896256},{"path":"D:\\vue\\radar\\node_modules\\vue-loader\\lib\\index.js","mtime":1596528120726}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { logicData } from \"../../api/index\";\nexport default {\n  data: function data() {\n    return {\n      configData: [],\n      progressData: [],\n      nodeDataArray: [],\n      linkDataArray: []\n    };\n  },\n  methods: {\n    // 获取 easy-mock 的模拟数据\n    getData: function getData() {\n      var _this = this;\n\n      logicData(this.query).then(function (res) {\n        //连线\n        var links = [];\n\n        for (var l = 0; l < res.SoltsLinks.length; l++) {\n          var link = {};\n          link[\"from\"] = res.SoltsLinks[l].from;\n          link[\"to\"] = res.SoltsLinks[l].to;\n          link[\"category\"] = res.SoltsLinks[l].category;\n          link[\"fromSpot\"] = res.SoltsLinks[l].fromSpot;\n          link[\"toSpot\"] = res.SoltsLinks[l].toSpot;\n          links.push(link);\n        }\n\n        _this.linkDataArray = links;\n        console.log('this.linkDataArray', _this.linkDataArray); //节点\n\n        var solts = [];\n\n        for (var i = 0; i < res.OnlineSolts.length; i++) {\n          //首先第一个大组\n          var group1 = {};\n          group1[\"isGroup\"] = true;\n          group1[\"key\"] = res.OnlineSolts[i].key;\n          group1[\"subtype\"] = res.OnlineSolts[i].subtype;\n          group1[\"category\"] = res.OnlineSolts[i].category;\n          group1[\"size\"] = res.OnlineSolts[i].size;\n          group1[\"text\"] = res.OnlineSolts[i].text;\n          solts.push(group1);\n          console.log('Chips', res.OnlineSolts[i].Chips.length);\n          var Chips = res.OnlineSolts[i].Chips.length; //第二层组\n\n          if (Chips > 0) {\n            for (var j = 0; j < Chips; j++) {\n              var Chips2 = {};\n              Chips2[\"key\"] = res.OnlineSolts[i].Chips[j].key;\n              Chips2[\"group\"] = res.OnlineSolts[i].Chips[j].group;\n              Chips2[\"category\"] = res.OnlineSolts[i].Chips[j].category;\n              Chips2[\"loc\"] = res.OnlineSolts[i].Chips[j].loc;\n              Chips2[\"text\"] = res.OnlineSolts[i].Chips[j].text;\n              solts.push(Chips2);\n            }\n          }\n        }\n\n        _this.nodeDataArray = solts;\n\n        _this.setTopo();\n      });\n    },\n    setTopo: function setTopo() {\n      if (window.goSamples) goSamples(); // init for these samples -- you don't need to call this\n\n      var $ = go.GraphObject.make; // for conciseness in defining templates\n\n      var myDiagram = $(go.Diagram, \"myDiagramDiv\", // Diagram refers to its DIV HTML element by id\n      {\n        maxSelectionCount: 1,\n        // no more than 1 element can be selected at a time\n        allowHorizontalScroll: true,\n        // disallow scrolling or panning\n        allowVerticalScroll: true,\n        allowZoom: true,\n        // disallow zooming\n        allowMove: false,\n        \"animationManager.isEnabled\": false,\n        \"undoManager.isEnabled\": false,\n        scale: 0.8,\n        //初始视图大小比例\n        layout: $(go.GridLayout, {\n          comparer: go.GridLayout.smartComparer\n        })\n      }); // the background Part showing the fixed bounds of the diagram contents\n      //   myDiagram.add(\n      //     $(go.Part,\n      //       { layerName: \"Horizontal\", position: myDiagram.fixedBounds.position },\n      //       $(go.Shape, { fill: \"oldlace\", strokeWidth: 0, desiredSize: myDiagram.fixedBounds.size })\n      //     ));\n      // this function is the Node.dragComputation, to limit the movement of the parts\n      // use GRIDPT instead of PT if DraggingTool.isGridSnapEnabled and movement should snap to grid\n\n      function stayInFixedArea(part, pt, gridpt) {\n        var diagram = part.diagram;\n        if (diagram === null) return pt; // compute the document area without padding\n\n        var v = diagram.documentBounds.copy();\n        v.subtractMargin(diagram.padding); // get the bounds of the part being dragged\n\n        var b = part.actualBounds;\n        var loc = part.location; // now limit the location appropriately\n\n        var x = Math.max(v.x, Math.min(pt.x, v.right - b.width)) + (loc.x - b.x);\n        var y = Math.max(v.y, Math.min(pt.y, v.bottom - b.height)) + (loc.y - b.y);\n        return new go.Point(x, y);\n      } //普通块\n\n\n      myDiagram.nodeTemplateMap.add(\"Rectangle\", $(go.Node, \"Auto\", {\n        fromSpot: go.Spot.TopSide,\n        // coming out from right side\n        toSpot: go.Spot.TopSide\n      }, // going into at left side\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), $(go.Shape, \"Rectangle\", {\n        fill: \"#FAFAD2\",\n        width: 97,\n        height: 60\n      }), $(go.TextBlock, new go.Binding(\"text\", \"text\"), {\n        width: 55,\n        textAlign: \"center\",\n        wrap: go.TextBlock.WrapDesiredSize\n      }, {\n        margin: 5\n      }))); //数据模块blue\n\n      myDiagram.nodeTemplateMap.add(\"Rectangleblue\", $(go.Node, \"Auto\", {\n        fromSpot: go.Spot.TopSide,\n        // coming out from right side\n        toSpot: go.Spot.TopSide\n      }, // going into at left side\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), $(go.Shape, \"Rectangle\", {\n        fill: \"\t#436EEE\",\n        width: 97,\n        height: 60\n      }), $(go.TextBlock, new go.Binding(\"text\", \"text\"), {\n        width: 47,\n        textAlign: \"center\",\n        wrap: go.TextBlock.WrapDesiredSize\n      }, {\n        margin: 5\n      }))); //数据模块red\n\n      myDiagram.nodeTemplateMap.add(\"Rectanglered\", $(go.Node, \"Auto\", {\n        fromSpot: go.Spot.BottomSide,\n        // coming out from right side\n        toSpot: go.Spot.BottomSide\n      }, // going into at left side\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), $(go.Shape, \"Rectangle\", {\n        fill: \"red\",\n        width: 97,\n        height: 60\n      }), $(go.TextBlock, new go.Binding(\"text\", \"text\"), {\n        width: 47,\n        textAlign: \"center\",\n        wrap: go.TextBlock.WrapDesiredSize\n      }, {\n        margin: 5\n      }))); //数据模块purple\n\n      myDiagram.nodeTemplateMap.add(\"Rectanglepurple\", $(go.Node, \"Auto\", {\n        fromSpot: go.Spot.TopSide,\n        // coming out from right side\n        toSpot: go.Spot.TopSide\n      }, // going into at left side\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), $(go.Shape, \"Rectangle\", {\n        fill: \"#9A32CD\",\n        width: 97,\n        height: 60\n      }), $(go.TextBlock, new go.Binding(\"text\", \"text\"), {\n        width: 47,\n        textAlign: \"center\",\n        wrap: go.TextBlock.WrapDesiredSize\n      }, {\n        margin: 5\n      }))); //AUX pink\n\n      myDiagram.nodeTemplateMap.add(\"circlepink\", $(go.Node, \"Auto\", {\n        fromSpot: go.Spot.TopSide,\n        // coming out from right side\n        toSpot: go.Spot.TopSide\n      }, // going into at left side\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), $(go.Shape, \"Circle\", {\n        fill: \"pink\",\n        width: 40,\n        height: 60,\n        portId: \"\"\n      }), $(go.TextBlock, new go.Binding(\"text\", \"text\"), {\n        width: 60,\n        textAlign: \"center\",\n        wrap: go.TextBlock.WrapDesiredSize\n      }, {\n        margin: 5\n      })));\n      myDiagram.nodeTemplateMap.add(\"circleblue\", $(go.Node, \"Auto\", {\n        fromSpot: go.Spot.TopSide,\n        // coming out from right side\n        toSpot: go.Spot.TopSide\n      }, // going into at left side\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), $(go.Shape, \"Circle\", {\n        fill: \"blue\",\n        width: 40,\n        height: 60,\n        portId: \"\"\n      }), $(go.TextBlock, new go.Binding(\"text\", \"text\"), {\n        width: 60,\n        textAlign: \"center\",\n        wrap: go.TextBlock.WrapDesiredSize\n      }, {\n        margin: 5\n      })));\n      myDiagram.nodeTemplateMap.add(\"circlered\", $(go.Node, \"Auto\", {\n        fromSpot: go.Spot.TopSide,\n        // coming out from right side\n        toSpot: go.Spot.TopSide\n      }, // going into at left side\n      new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), $(go.Shape, \"Circle\", {\n        fill: \"red\",\n        width: 40,\n        height: 60,\n        portId: \"\"\n      }), $(go.TextBlock, new go.Binding(\"text\", \"text\"), {\n        width: 60,\n        textAlign: \"center\",\n        wrap: go.TextBlock.WrapDesiredSize\n      }, {\n        margin: 5\n      }))); //多个组模板定义,\"OfGroup1\"为组模板的分类,在json用category指定组使用的模板\n\n      myDiagram.groupTemplateMap.add(\"OfGroup1\", $(go.Group, \"Auto\", {}, // declare the Group.layout:\n      {\n        dragComputation: stayInFixedArea\n      }, new go.Binding(\"desiredSize\", \"size\", go.Size.parse), new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify), $(go.Shape, \"Rectangle\", // surrounds everything\n      {\n        parameter1: 10,\n        fill: \"rgba(128,128,128,0.33)\"\n      }), $(go.Panel, \"Vertical\", {\n        width: 400,\n        height: 830\n      }, // position header above the subgraph\n      $(go.TextBlock, // group title near top, next to button\n      new go.Binding(\"text\", \"text\"), {\n        font: \"Bold 12pt Sans-Serif\",\n        textAlign: \"center\",\n        width: 47,\n        wrap: go.TextBlock.WrapDesiredSize\n      }) // $(go.Placeholder, // represents area for all member parts\n      // )\n      ))); //蓝色线段\n\n      myDiagram.linkTemplateMap.add(\"Orthogonalblue\", // myDiagram.linkTemplate =\n      $(go.Link, new go.Binding(\"fromSpot\", \"fromSpot\", go.Spot.parse), new go.Binding(\"toSpot\", \"toSpot\", go.Spot.parse), {\n        selectable: false,\n        // links cannot be selected by the user\n        routing: go.Link.Orthogonal,\n        layerName: \"Background\" // don't cross in front of any nodes\n\n      }, $(go.Shape, // this shape only shows when it isHighlighted\n      {\n        isPanelMain: true,\n        stroke: null,\n        strokeWidth: 5\n      }, new go.Binding(\"stroke\", \"isHighlighted\", function (h) {\n        return h ? \"#436EEE\" : null;\n      }).ofObject()), $(go.Shape, // mark each Shape to get the link geometry with isPanelMain: true\n      {\n        isPanelMain: true,\n        stroke: \"#436EEE\",\n        strokeWidth: 2\n      }, new go.Binding(\"stroke\", \"color\")), $(go.Shape, {\n        toArrow: \"\"\n      }))); //红色线段\n\n      myDiagram.linkTemplateMap.add(\"Orthogonalred\", // myDiagram.linkTemplate =\n      $(go.Link, new go.Binding(\"fromSpot\", \"fromSpot\", go.Spot.parse), new go.Binding(\"toSpot\", \"toSpot\", go.Spot.parse), {\n        selectable: false,\n        // links cannot be selected by the user\n        routing: go.Link.Orthogonal,\n        layerName: \"Background\" // don't cross in front of any nodes\n\n      }, $(go.Shape, // this shape only shows when it isHighlighted\n      {\n        isPanelMain: true,\n        stroke: null,\n        strokeWidth: 5\n      }, new go.Binding(\"stroke\", \"isHighlighted\", function (h) {\n        return h ? \"red\" : null;\n      }).ofObject()), $(go.Shape, // mark each Shape to get the link geometry with isPanelMain: true\n      {\n        isPanelMain: true,\n        stroke: \"red\",\n        strokeWidth: 2\n      }, new go.Binding(\"stroke\", \"color\")), $(go.Shape, {\n        toArrow: \"\"\n      }))); //紫色线段\n\n      myDiagram.linkTemplateMap.add(\"Orthogonalpurple\", // myDiagram.linkTemplate =\n      $(go.Link, new go.Binding(\"fromSpot\", \"fromSpot\", go.Spot.parse), new go.Binding(\"toSpot\", \"toSpot\", go.Spot.parse), {\n        selectable: false,\n        // links cannot be selected by the user\n        routing: go.Link.Orthogonal,\n        layerName: \"Background\" // don't cross in front of any nodes\n\n      }, $(go.Shape, // this shape only shows when it isHighlighted\n      {\n        isPanelMain: true,\n        stroke: null,\n        strokeWidth: 5\n      }, new go.Binding(\"stroke\", \"isHighlighted\", function (h) {\n        return h ? \"#8E388E\" : null;\n      }).ofObject()), $(go.Shape, // mark each Shape to get the link geometry with isPanelMain: true\n      {\n        isPanelMain: true,\n        stroke: \"#8E388E\",\n        strokeWidth: 2\n      }, new go.Binding(\"stroke\", \"color\")), $(go.Shape, {\n        toArrow: \"\"\n      }))); //粉色线段\n\n      myDiagram.linkTemplateMap.add(\"Orthogonalpink\", // myDiagram.linkTemplate =\n      $(go.Link, new go.Binding(\"fromSpot\", \"fromSpot\", go.Spot.parse), new go.Binding(\"toSpot\", \"toSpot\", go.Spot.parse), {\n        selectable: false,\n        // links cannot be selected by the user\n        routing: go.Link.Normal,\n        layerName: \"Background\" // don't cross in front of any nodes\n\n      }, $(go.Shape, // this shape only shows when it isHighlighted\n      {\n        isPanelMain: true,\n        stroke: null,\n        strokeWidth: 5\n      }, new go.Binding(\"stroke\", \"isHighlighted\", function (h) {\n        return h ? \"#FF6347\" : null;\n      }).ofObject()), $(go.Shape, // mark each Shape to get the link geometry with isPanelMain: true\n      {\n        isPanelMain: true,\n        stroke: \"#FF6347\",\n        strokeWidth: 2\n      }, new go.Binding(\"stroke\", \"color\")), $(go.Shape, {\n        toArrow: \"\"\n      }))); //IPMB\n\n      myDiagram.linkTemplateMap.add(\"OrthogonalIPMB\", // myDiagram.linkTemplate =\n      $(go.Link, new go.Binding(\"fromSpot\", \"fromSpot\", go.Spot.parse), new go.Binding(\"toSpot\", \"toSpot\", go.Spot.parse), {\n        selectable: false,\n        // links cannot be selected by the user\n        routing: go.Link.Orthogonal,\n        layerName: \"Background\" // don't cross in front of any nodes\n\n      }, $(go.Shape, // this shape only shows when it isHighlighted\n      {\n        isPanelMain: true,\n        stroke: null,\n        strokeWidth: 5\n      }, new go.Binding(\"stroke\", \"isHighlighted\", function (h) {\n        return h ? \"#FFA500\" : null;\n      }).ofObject()), $(go.Shape, // mark each Shape to get the link geometry with isPanelMain: true\n      {\n        isPanelMain: true,\n        stroke: \"#FFA500\",\n        strokeWidth: 2\n      }, new go.Binding(\"stroke\", \"color\")), $(go.Shape, {\n        toArrow: \"\"\n      }))); // var nodeDataArray=[];\n      // var linkDataArray = [];\n      // console.log('nodeDataArray', nodeDataArray);\n\n      console.log(\"this.nodeDataArray\", this.nodeDataArray);\n      myDiagram.model = new go.GraphLinksModel(this.nodeDataArray, this.linkDataArray);\n    },\n    getconfig: function getconfig() {\n      var _this2 = this;\n\n      this.$axios({\n        method: \"post\",\n        url: '/sys/device/getconfig',\n        data: JSON.stringify({\n          \"deviceId\": this.$route.params.menuId,\n          \"key\": \"bhost_netconfig\"\n        }),\n        headers: {\n          'Content-Type': \"application/json\"\n        },\n        withCredentials: true\n      }).then(function (res) {\n        if (res.data.code == 0) {\n          _this2.configData = res.data.data.config.data;\n        } else {\n          _this2.$message.error(res.data.msg);\n\n          clearInterval(_this2.cpu);\n        }\n      }).catch(function (error) {\n        _this2.$message.error('获取数据失败！');\n\n        clearInterval(_this2.cpu);\n      });\n    },\n    getProgressData: function getProgressData() {\n      var _this3 = this;\n\n      this.$axios({\n        method: \"post\",\n        url: '/sys/device/status',\n        data: JSON.stringify({\n          id: this.$route.params.menuId,\n          \"isSub\": true,\n          \"keys\": [\"bht_host_sysprocess\"]\n        }),\n        headers: {\n          'Content-Type': \"application/json\"\n        },\n        withCredentials: true\n      }).then(function (res) {\n        if (res.data.code == 0) {\n          _this3.progressData = res.data.data.status.bht_host_sysprocess.data;\n        } else {\n          _this3.$message.error(res.data.msg);\n\n          clearInterval(_this3.cpu);\n        }\n      }).catch(function (error) {\n        _this3.$message.error('获取数据失败！');\n\n        clearInterval(_this3.cpu);\n      });\n    }\n  },\n  mounted: function mounted() {\n    // this.getProgressData();\n    // this.getconfig();\n    this.getData();\n  }\n};",null]}