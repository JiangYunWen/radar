{"remainingRequest":"D:\\vue\\radar\\node_modules\\thread-loader\\dist\\cjs.js!D:\\vue\\radar\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\radar\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue\\radar\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\radar\\src\\components\\Login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\radar\\src\\components\\Login\\index.vue","mtime":1597109783941},{"path":"D:\\vue\\radar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596527896256},{"path":"D:\\vue\\radar\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1596528110531},{"path":"D:\\vue\\radar\\node_modules\\babel-loader\\lib\\index.js","mtime":1596527889887},{"path":"D:\\vue\\radar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596527896256},{"path":"D:\\vue\\radar\\node_modules\\vue-loader\\lib\\index.js","mtime":1596528120726}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      param: {\n        username: 'admin',\n        password: 'admin'\n      },\n      rules: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  // methods: {\n  //     submitForm() {\n  //         this.$refs.login.validate(valid => {\n  //             if (valid) {\n  //                 this.$message.success('登录成功');\n  //                 localStorage.setItem('ms_username', this.param.username);\n  //                 this.$router.push('/dashboard');\n  //             } else {\n  //                 this.$message.error('请输入账号和密码');\n  //                 console.log('error submit!!');\n  //                 return false;\n  //             }\n  //         });\n  //     },\n  // },\n  methods: {\n    submitForm: function submitForm() {\n      var _this2 = this;\n\n      var _this = this;\n\n      if (_this.param.username === '' || _this.param.password === '') {\n        _this.$message.error('账号或密码不能为空');\n      } else {\n        /* formData格式提交： */\n        var formData = new FormData();\n\n        for (var key in _this.param) {\n          formData.append(key, _this.param[key]);\n        }\n\n        this.$axios({\n          method: 'post',\n          url: '/sys/login',\n          data: formData,\n          headers: {\n            \"Content-Type\": \"multipart/form-data\"\n          },\n          withCredentials: true\n        }).then(function (res) {\n          if (res.data.code == 0) {\n            // _this.userToken = 'Bearer ' + res.data.data.body.token;\n            // 将用户token保存到vuex中\n            // _this.changeLogin({ Authorization: _this.userToken });\n            localStorage.setItem('ms_username', _this.param.username);\n\n            _this.$router.push('/crate');\n\n            _this2.$message.success('登陆成功');\n          } else {\n            _this2.$message.error(res.data.msg);\n          }\n        }).catch(function (error) {\n          _this2.$message.error('账号或密码错误');\n\n          console.log(error);\n        });\n      }\n    }\n  }\n};",null]}