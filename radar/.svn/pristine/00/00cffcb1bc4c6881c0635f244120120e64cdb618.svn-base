{"remainingRequest":"D:\\vue\\radar\\node_modules\\babel-loader\\lib\\index.js!D:\\vue\\radar\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue\\radar\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\radar\\src\\components\\common\\Sidebar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\radar\\src\\components\\common\\Sidebar.vue","mtime":1601178229049},{"path":"D:\\vue\\radar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596527896256},{"path":"D:\\vue\\radar\\node_modules\\babel-loader\\lib\\index.js","mtime":1596527889887},{"path":"D:\\vue\\radar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596527896256},{"path":"D:\\vue\\radar\\node_modules\\vue-loader\\lib\\index.js","mtime":1596528120726}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport bus from \"../common/bus\";\nexport default {\n  data: function data() {\n    return {\n      collapse: false,\n      items: []\n    };\n  },\n  mounted: function mounted() {\n    this.menu();\n  },\n  methods: {\n    menu: function menu() {\n      var _this = this;\n\n      this.$axios({\n        method: 'get',\n        url: '/sys/menu/user',\n        withCredentials: true\n      }).then(function (res) {\n        if (res.data.code == 0) {\n          _this.items = res.data;\n          console.log(' this.items ', _this.items);\n        } else {\n          _this.$message.error(res.data.msg);\n        }\n      }).catch(function (error) {\n        _this.$message.error('账号或密码错误');\n      });\n    },\n    menunItem: function menunItem(threeItem) {\n      // var sd=threeItem.url.substring\n      // if (threeItem.url === '/sys/menu/deviceStatus' || threeItem.url === '/sys/menu/solt' || threeItem.url === '/sys/menu/exchangeSolt') {\n      this.$router.push({\n        path: threeItem.url,\n        query: {\n          title: threeItem.name,\n          subtype: threeItem.subtype,\n          item: threeItem\n        }\n      }); // localStorage.setItem('menuId', threeItem.deviceId);\n      // console.log(localStorage.getItem('menuId'));\n      // localStorage.setItem('subtype', threeItem.subtype);\n      // console.log(localStorage.getItem('subtype'));\n      // } else {\n      //     this.$router.push({\n      //         path: threeItem.url,\n      //         query: {\n      //             title: threeItem.name,\n      //             item: threeItem\n      //         }\n      //     });\n      // }\n    },\n    handeSelect: function handeSelect(index, indexPath) {\n      console.log(\"Select\", index, indexPath);\n    },\n    handleClose: function handleClose(key, keyPath) {\n      console.log(\"Close\", key, keyPath);\n    },\n    onTitleClick: function onTitleClick(e) {\n      e.stopPropagation();\n      var obj = e.target.parentNode.parentNode.parentNode.__vue__;\n      this.$router.push({\n        path: obj.index,\n        query: {\n          title: obj.referenceElm.title\n        }\n      });\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    // 通过 Event Bus 进行组件间通信，来折叠侧边栏\n    bus.$on('collapse', function (msg) {\n      _this2.collapse = msg;\n      bus.$emit('collapse-content', msg);\n    });\n  },\n  updated: function updated() {\n    this.handleClose('sys/aa', ['sys/aa']);\n  }\n};",{"version":3,"sources":["Sidebar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,OAAA,GAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,KAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,IAAA;AACA,GATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AAAA;;AACA,WAAA,MAAA,CAAA;AACA,QAAA,MAAA,EAAA,KADA;AAEA,QAAA,GAAA,EAAA,gBAFA;AAGA,QAAA,eAAA,EAAA;AAHA,OAAA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,cAAA,EAAA,KAAA,CAAA,KAAA;AACA,SAHA,MAGA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,IAAA,CAAA,GAAA;AACA;AACA,OAXA,EAWA,KAXA,CAWA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,SAAA;AACA,OAbA;AAcA,KAhBA;AAiBA,IAAA,SAjBA,qBAiBA,SAjBA,EAiBA;AAEA;AAEA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,SAAA,CAAA,GADA;AAEA,QAAA,KAAA,EAAA;AACA,UAAA,KAAA,EAAA,SAAA,CAAA,IADA;AAEA,UAAA,OAAA,EAAA,SAAA,CAAA,OAFA;AAGA,UAAA,IAAA,EAAA;AAHA;AAFA,OAAA,EALA,CAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,KA5CA;AA6CA,IAAA,WA7CA,uBA6CA,KA7CA,EA6CA,SA7CA,EA6CA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAAA,KAAA,EAAA,SAAA;AACA,KA/CA;AAgDA,IAAA,WAhDA,uBAgDA,GAhDA,EAgDA,OAhDA,EAgDA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,GAAA,EAAA,OAAA;AACA,KAlDA;AAmDA,IAAA,YAnDA,wBAmDA,CAnDA,EAmDA;AACA,MAAA,CAAA,CAAA,eAAA;AACA,UAAA,GAAA,GAAA,CAAA,CAAA,MAAA,CAAA,UAAA,CAAA,UAAA,CAAA,UAAA,CAAA,OAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,GAAA,CAAA,KADA;AAEA,QAAA,KAAA,EAAA;AACA,UAAA,KAAA,EAAA,GAAA,CAAA,YAAA,CAAA;AADA;AAFA,OAAA;AAMA;AA5DA,GAVA;AAyEA,EAAA,OAzEA,qBAyEA;AAAA;;AACA;AACA,IAAA,GAAA,CAAA,GAAA,CAAA,UAAA,EAAA,UAAA,GAAA,EAAA;AACA,MAAA,MAAA,CAAA,QAAA,GAAA,GAAA;AACA,MAAA,GAAA,CAAA,KAAA,CAAA,kBAAA,EAAA,GAAA;AACA,KAHA;AAIA,GA/EA;AAgFA,EAAA,OAhFA,qBAgFA;AACA,SAAA,WAAA,CAAA,QAAA,EAAA,CAAA,QAAA,CAAA;AACA;AAlFA,CAAA","sourcesContent":["<template>\r\n<div class=\"sidebar\">\r\n    <el-menu class=\"sidebar-el-menu\" :collapse=\"collapse\" @close=\"handleClose\" background-color=\"#324157\" text-color=\"#bfcbd9\" active-text-color=\"#20a0ff\" unique-opened router>\r\n        <template v-for=\"item in items.menuList\">\r\n            <template v-if=\"item.sublist\">\r\n                <el-submenu :index=\"item.url\" :key=\"item.url\">\r\n                    <template slot=\"title\">\r\n                        <i :class=\"item.icon\"></i>\r\n                        <span slot=\"title\">{{ item.name }}</span>\r\n                    </template>\r\n                    <template v-for=\"(subItem,j) in item.sublist\">\r\n                        <el-submenu v-if=\"subItem.sublist\" :title=\"subItem.name\" :id=\"subItem.menuId\" :index=\"subItem.url\" :key=\"j\">\r\n                            <template slot=\"title\" v-if=\"subItem.type===4\">\r\n                                <div class=\"submenu_block\">\r\n                                    <div class=\"submenu_title\" @click=\"onTitleClick\"><i class=\"el-icon-film\"></i>{{ subItem.name}}</div>\r\n                                    <div class=\"submenu_ico_block\"><i class=\"el-submenu__icon-arrow el-icon-arrow-down\"></i></div>\r\n                                </div>\r\n                            </template>\r\n                            <template slot=\"title\" v-else>\r\n                                <i :class=\"subItem.icon\"></i>&nbsp;&nbsp;\r\n                                <template slot=\"title\">{{ subItem.name }} </template>\r\n                            </template>\r\n\r\n                            <el-menu-item v-for=\"(threeItem,i) in subItem.sublist\" :key=\"i\" @click=\"menunItem(threeItem)\"> <i :class=\"threeItem.icon\"></i>{{ threeItem.name }}</el-menu-item>\r\n                        </el-submenu>\r\n                        <el-menu-item v-else :index=\"subItem.url\" :key=\"j\" @click=\"menunItem(subItem)\"> <i :class=\"subItem.icon\"></i>{{ subItem.name }}</el-menu-item>\r\n                    </template>\r\n                </el-submenu>\r\n            </template>\r\n            <template v-else>\r\n                <el-menu-item :index=\"item.url\" :key=\"item.url\">\r\n                    <i :class=\"item.icon\"></i>\r\n                    <span slot=\"title\">{{ item.name }}</span>\r\n                </el-menu-item>\r\n            </template>\r\n        </template>\r\n    </el-menu>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport bus from '../common/bus';\r\nexport default {\r\n    data() {\r\n        return {\r\n            collapse: false,\r\n            items: []\r\n        };\r\n    },\r\n    mounted: function () {\r\n        this.menu();\r\n    },\r\n    methods: {\r\n        menu() {\r\n            this.$axios({\r\n                method: 'get',\r\n                url: '/sys/menu/user',\r\n                withCredentials: true,\r\n            }).then(res => {\r\n                if (res.data.code == 0) {\r\n                    this.items = res.data;\r\n                    console.log(' this.items ', this.items);\r\n                } else {\r\n                    this.$message.error(res.data.msg);\r\n                }\r\n            }).catch(error => {\r\n                this.$message.error('账号或密码错误');\r\n            });\r\n        },\r\n        menunItem(threeItem) {\r\n\r\n            // var sd=threeItem.url.substring\r\n\r\n            // if (threeItem.url === '/sys/menu/deviceStatus' || threeItem.url === '/sys/menu/solt' || threeItem.url === '/sys/menu/exchangeSolt') {\r\n            this.$router.push({\r\n                path: threeItem.url,\r\n                query: {\r\n                    title: threeItem.name,\r\n                    subtype: threeItem.subtype,\r\n                    item: threeItem\r\n                }\r\n            });\r\n            // localStorage.setItem('menuId', threeItem.deviceId);\r\n            // console.log(localStorage.getItem('menuId'));\r\n            // localStorage.setItem('subtype', threeItem.subtype);\r\n            // console.log(localStorage.getItem('subtype'));\r\n            // } else {\r\n            //     this.$router.push({\r\n            //         path: threeItem.url,\r\n            //         query: {\r\n            //             title: threeItem.name,\r\n            //             item: threeItem\r\n            //         }\r\n            //     });\r\n            // }\r\n\r\n        },\r\n        handeSelect(index, indexPath) {\r\n            console.log(\"Select\", index, indexPath);\r\n        },\r\n        handleClose(key, keyPath) {\r\n            console.log(\"Close\", key, keyPath);\r\n        },\r\n        onTitleClick(e) {\r\n            e.stopPropagation();\r\n            var obj = e.target.parentNode.parentNode.parentNode.__vue__;\r\n            this.$router.push({\r\n                path: obj.index,\r\n                query: {\r\n                    title: obj.referenceElm.title\r\n                }\r\n            });\r\n        }\r\n    },\r\n\r\n    created() {\r\n        // 通过 Event Bus 进行组件间通信，来折叠侧边栏\r\n        bus.$on('collapse', msg => {\r\n            this.collapse = msg;\r\n            bus.$emit('collapse-content', msg);\r\n        });\r\n    },\r\n    updated() {\r\n        this.handleClose('sys/aa', ['sys/aa']);\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.sidebar {\r\n    display: block;\r\n    position: absolute;\r\n    left: 0;\r\n    top: 70px;\r\n    bottom: 0;\r\n    overflow-y: scroll;\r\n}\r\n\r\n.sidebar::-webkit-scrollbar {\r\n    width: 0;\r\n}\r\n\r\n.sidebar-el-menu:not(.el-menu--collapse) {\r\n    width: 250px;\r\n}\r\n\r\n.sidebar>ul {\r\n    height: 100%;\r\n}\r\n\r\n.el-submenu>.el-submenu__title .el-submenu__icon-arrow {\r\n    -webkit-transform: rotateZ(-90deg);\r\n    -ms-transform: rotate(-90deg);\r\n    transform: rotateZ(-90deg);\r\n}\r\n\r\n.el-submenu.is-opened>.el-submenu__title .el-submenu__icon-arrow {\r\n    -webkit-transform: rotateZ(0deg);\r\n    -ms-transform: rotate(0deg);\r\n    transform: rotateZ(0deg);\r\n}\r\n\r\n.el-submenu>.el-menu>.el-submenu>.el-submenu__title {\r\n    padding-left: 40px !important;\r\n    width: 100%;\r\n    padding-right: 0px;\r\n}\r\n\r\n.el-submenu__icon-arrow {\r\n    display: none;\r\n}\r\n\r\n.el-menu>.el-submenu__title>.submenu_block>.el-submenu__icon-arrow {\r\n    display: none;\r\n}\r\n\r\n.el-submenu>.el-menu>.el-submenu>:hover {\r\n    background-color: rgb(50, 65, 87) !important;\r\n}\r\n\r\n.submenu_block {\r\n    display: flex;\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.fa {\r\n    width: 25px;\r\n}\r\n\r\n.submenu_title {\r\n    display: block;\r\n    width: 250px;\r\n    padding-left: -40px;\r\n}\r\n\r\n.submenu_title:hover {\r\n    background-color: rgb(15, 43, 85);\r\n}\r\n\r\n.submenu_ico_block {\r\n    position: relative;\r\n    display: block;\r\n    float: right;\r\n    width: 60px;\r\n    height: 100%;\r\n    right: -50px;\r\n}\r\n\r\n.submenu_ico_block:hover {\r\n    background-color: rgb(67, 74, 80);\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/common"}]}