{"remainingRequest":"D:\\vue\\radar\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\radar\\src\\components\\Settings\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\radar\\src\\components\\Settings\\index.vue","mtime":1600311182483},{"path":"D:\\vue\\radar\\node_modules\\babel-loader\\lib\\index.js","mtime":1596527889887},{"path":"D:\\vue\\radar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596527896256},{"path":"D:\\vue\\radar\\node_modules\\vue-loader\\lib\\index.js","mtime":1596528120726}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport ThemePicker from '@/components/ThemePicker'\r\nimport {\r\n    Terminal\r\n} from 'xterm'\r\nimport layer from \"layui-layer\";\r\n\r\nexport default {\r\n    props: ['soltab'],\r\n    components: {\r\n        ThemePicker\r\n    },\r\n    data() {\r\n        return {\r\n            solt: this.soltab.position,\r\n            dialogVisible: false\r\n        }\r\n    },\r\n    computed: {\r\n        fixedHeader: {\r\n            get() {\r\n                return true\r\n            },\r\n            set(val) {\r\n                this.$store.dispatch('settings/changeSetting', {\r\n                    key: 'fixedHeader',\r\n                    value: val\r\n                })\r\n            }\r\n        },\r\n        tagsView: {\r\n            get() {\r\n                return true\r\n            },\r\n            set(val) {\r\n                this.$store.dispatch('settings/changeSetting', {\r\n                    key: 'tagsView',\r\n                    value: val\r\n                })\r\n            }\r\n        },\r\n        sidebarLogo: {\r\n            get() {\r\n                return true\r\n            },\r\n            set(val) {\r\n                this.$store.dispatch('settings/changeSetting', {\r\n                    key: 'sidebarLogo',\r\n                    value: val\r\n                })\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        IpmiCmd(cmd) {\r\n            this.$axios({\r\n                method: \"POST\",\r\n                url: '/sys/device/cmd/ipmi',\r\n                data: JSON.stringify(this.form),\r\n                headers: {\r\n                    'Content-Type': \"application/json\"\r\n                },\r\n                withCredentials: true,\r\n            }).then((res) => {\r\n                let data = res.data\r\n                if (data.code == 0) {\r\n                    this.$message.success('操作完成');\r\n                } else {\r\n                    this.$message.error(data.msg || '操作失败')\r\n                }\r\n                this.uploadLoading = false\r\n            }).catch((e) => {\r\n                this.uploadLoading = false\r\n                this.$message.error(e)\r\n            });\r\n        },\r\n        //命令\r\n        Action(cmd) {\r\n            this.$axios({\r\n                method: \"get\",\r\n                url: '/getData/getEnum?enumName=IpmiCmdEnum',\r\n                withCredentials: true,\r\n            }).then(res => {\r\n                if (res.data.code == 0) {\r\n                    this.IpmiCmdEnum = res.data.data;\r\n                    for (var i = 0; i < this.IpmiCmdEnum.length; i++) {\r\n                        if (this.IpmiCmdEnum[i].code === cmd) {\r\n                            this.form.cmdid = this.IpmiCmdEnum[i].code;\r\n                            this.IpmiCmd();\r\n                        }\r\n                    }\r\n\r\n                } else {\r\n                    this.$message.error(res.data.msg);\r\n                }\r\n            }).catch(error => {\r\n                this.$message.error('获取数据失败！');\r\n            });\r\n        },\r\n        themeChange(val) {\r\n            this.$store.dispatch('settings/changeSetting', {\r\n                key: 'theme',\r\n                value: val\r\n            })\r\n        },\r\n\r\n        //webshell\r\n        term() {\r\n            layer.open({\r\n                title: \"设置阀值\",\r\n                type: 1,\r\n                area: ['300px'],\r\n                content: $(\"#terminal\"),\r\n                btn: ['确认'],\r\n                yes: function (index, layero) {\r\n\r\n                    layer.close(index); //如果设定了yes回调，需进行手工关闭\r\n                }\r\n            });\r\n            // var term = new Terminal();\r\n            // term.open(document.getElementById('terminal'));\r\n            // term.write('Hello from \\x1B[1;3;31mxterm.js\\x1B[0m $ ')\r\n        }\r\n    },\r\n    //监听数据变化\r\n    watch: {\r\n        soltab: {\r\n            handler(newVal) {\r\n                console.log('soltab', newVal);\r\n                this.soltab = newVal;\r\n                this.solt = this.soltab.position;\r\n            },\r\n            deep: true\r\n        },\r\n    },\r\n\r\n}\r\n",null]}