{"remainingRequest":"D:\\vue\\radar\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue\\radar\\src\\components\\Phytopo\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue\\radar\\src\\components\\Phytopo\\index.vue","mtime":1599717684567},{"path":"D:\\vue\\radar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596527896256},{"path":"D:\\vue\\radar\\node_modules\\babel-loader\\lib\\index.js","mtime":1596527889887},{"path":"D:\\vue\\radar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596527896256},{"path":"D:\\vue\\radar\\node_modules\\vue-loader\\lib\\index.js","mtime":1596528120726}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport {\r\n    fetchData\r\n} from '../../api/index';\r\nexport default {\r\n\r\n    data() {\r\n        return {\r\n            configData: [],\r\n            progressData: [],\r\n            nodeDataArray: [],\r\n            linkDataArray: []\r\n        }\r\n    },\r\n    methods: {\r\n        // 获取 easy-mock 的模拟数据\r\n        getData() {\r\n            fetchData(this.query).then(res => {\r\n                //连线\r\n                var links = [];\r\n                for (var l = 0; l < res.SoltsLinks.length; l++) {\r\n                    var link = {};\r\n                    link[\"from\"] = res.SoltsLinks[l].from;\r\n                    link[\"to\"] = res.SoltsLinks[l].to;\r\n                    link[\"category\"] = res.SoltsLinks[l].category;\r\n                    link[\"fromSpot\"] = res.SoltsLinks[l].fromSpot;\r\n                    link[\"toSpot\"] = res.SoltsLinks[l].toSpot;\r\n                    links.push(link);\r\n                }\r\n                this.linkDataArray = links;\r\n                console.log('this.linkDataArray', this.linkDataArray);\r\n\r\n                //节点\r\n                var solts = [];\r\n                for (var i = 0; i < res.OnlineSolts.length; i++) {\r\n                    //首先第一个大组\r\n                    var group1 = {};\r\n                    group1[\"isGroup\"] = true;\r\n                    group1[\"key\"] = res.OnlineSolts[i].key;\r\n                    group1[\"subtype\"] = res.OnlineSolts[i].subtype;\r\n                    group1[\"text\"] = res.OnlineSolts[i].text;\r\n                    group1[\"category\"] = res.OnlineSolts[i].category;\r\n                    group1[\"size\"] = res.OnlineSolts[i].size;\r\n                    solts.push(group1);\r\n\r\n                    var Group = res.OnlineSolts[i].Group.length;\r\n                    //第二层组\r\n                    for (var j = 0; j < Group; j++) {\r\n                        var group2 = {};\r\n                        group2[\"key\"] = res.OnlineSolts[i].Group[j].key;\r\n                        group2[\"group\"] = res.OnlineSolts[i].Group[j].group;\r\n                        group2[\"isGroup\"] = true;\r\n                        group2[\"category\"] = res.OnlineSolts[i].Group[j].category;\r\n                        group2[\"pos\"] = res.OnlineSolts[i].Group[j].pos;\r\n                        group2[\"text\"] = res.OnlineSolts[i].Group[j].text;\r\n                        group2[\"size\"] = res.OnlineSolts[i].Group[j].size;\r\n                        solts.push(group2);\r\n\r\n                        var model = res.OnlineSolts[i].Group[j].Chips.length;\r\n                        //第三层模块\r\n                        if (model > 0) {\r\n                            for (var m = 0; m < model; m++) {\r\n                                var models = {};\r\n                                models[\"key\"] = res.OnlineSolts[i].Group[j].Chips[m].key;\r\n                                models[\"text\"] = res.OnlineSolts[i].Group[j].Chips[m].text;\r\n                                models[\"group\"] = res.OnlineSolts[i].Group[j].Chips[m].group;\r\n                                models[\"category\"] = res.OnlineSolts[i].Group[j].Chips[m].category;\r\n                                models[\"pos\"] = res.OnlineSolts[i].Group[j].Chips[m].pos;\r\n                                models[\"ribbon\"] = res.OnlineSolts[i].Group[j].Chips[m].ribbon;\r\n                                models[\"ribbon1\"] = res.OnlineSolts[i].Group[j].Chips[m].ribbon1;\r\n                                models[\"color\"] = res.OnlineSolts[i].Group[j].Chips[m].color;\r\n\r\n                                solts.push(models);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.nodeDataArray = solts;\r\n                this.setTopo();\r\n            });\r\n        },\r\n        setTopo() {\r\n            if (window.goSamples) goSamples(); // init for these samples -- you don't need to call this\r\n            var $ = go.GraphObject.make; // for conciseness in defining templates\r\n            var myDiagram =\r\n                $(go.Diagram, \"myDiagramDiv\", // Diagram refers to its DIV HTML element by id\r\n                    {\r\n                        maxSelectionCount: 1, // no more than 1 element can be selected at a time\r\n                        allowHorizontalScroll: true, // disallow scrolling or panning\r\n                        allowVerticalScroll: true,\r\n                        allowZoom: true, // disallow zooming\r\n                        allowMove: false,\r\n                        \"animationManager.isEnabled\": false,\r\n                        \"undoManager.isEnabled\": false,\r\n                    });\r\n            // the background Part showing the fixed bounds of the diagram contents\r\n            //   myDiagram.add(\r\n            //     $(go.Part,\r\n            //       { layerName: \"Horizontal\", position: myDiagram.fixedBounds.position },\r\n            //       $(go.Shape, { fill: \"oldlace\", strokeWidth: 0, desiredSize: myDiagram.fixedBounds.size })\r\n            //     ));\r\n\r\n            // this function is the Node.dragComputation, to limit the movement of the parts\r\n            // use GRIDPT instead of PT if DraggingTool.isGridSnapEnabled and movement should snap to grid\r\n            function stayInFixedArea(part, pt, gridpt) {\r\n                var diagram = part.diagram;\r\n                if (diagram === null) return pt;\r\n                // compute the document area without padding\r\n                var v = diagram.documentBounds.copy();\r\n                v.subtractMargin(diagram.padding);\r\n                // get the bounds of the part being dragged\r\n                var b = part.actualBounds;\r\n                var loc = part.location;\r\n                // now limit the location appropriately\r\n                var x = Math.max(v.x, Math.min(pt.x, v.right - b.width)) + (loc.x - b.x);\r\n                var y = Math.max(v.y, Math.min(pt.y, v.bottom - b.height)) + (loc.y - b.y);\r\n                return new go.Point(x, y);\r\n            }\r\n            myDiagram.nodeTemplateMap.add(\"Rectangle\",\r\n                $(go.Node, \"Spot\", {\r\n                        avoidable: true\r\n                    }, {\r\n                        dragComputation: stayInFixedArea\r\n                    },\r\n                    // get the size from the model data\r\n                    new go.Binding(\"desiredSize\", \"size\", go.Size.parse),\r\n                    // get and set the position in the model data\r\n                    new go.Binding(\"position\", \"pos\", go.Point.parse).makeTwoWay(go.Point.stringify),\r\n\r\n                    $(go.Panel, \"Auto\", {\r\n                            name: \"\",\r\n                            width: 75,\r\n                            height: 75\r\n                        },\r\n                        // { portId: \"\" },\r\n                        // { position: new go.Point(50, 50), background: \"\" },\r\n                        $(go.Shape, {\r\n                            fill: \"white\",\r\n                            stroke: null,\r\n                            strokeWidth: 0\r\n                        }),\r\n                        $(go.TextBlock,\r\n                            new go.Binding(\"text\", \"text\"), {\r\n                                width: 90,\r\n                                textAlign: \"center\"\r\n                            })\r\n                    ),\r\n                    //黑块小三角\r\n                    $(go.Panel, \"Spot\",\r\n                        new go.Binding(\"opacity\", \"ribbon\", function (t) {\r\n                            return t ? 1 : 0;\r\n                        }),\r\n                        // note that the opacity defaults to zero (not visible),\r\n                        // in case there is no \"ribbon\" property\r\n                        {\r\n                            opacity: 0,\r\n                            alignment: new go.Spot(1, 0, 0, 0),\r\n                            alignmentFocus: go.Spot.TopRight\r\n                        },\r\n                        $(go.Shape, // the ribbon itself\r\n                            {\r\n                                geometryString: \"F1 M0 0 L50 0 50 50 50 50z\",\r\n                                fill: \"black\",\r\n                                stroke: null,\r\n                                strokeWidth: 0\r\n                            }),\r\n                        $(go.TextBlock,\r\n                            new go.Binding(\"text\", \"ribbon\"), {\r\n                                alignment: new go.Spot(1, 0, -20, 15),\r\n                                angle: 45,\r\n                                maxSize: new go.Size(100, NaN),\r\n                                stroke: \"white\",\r\n                                font: \"bold 13px sans-serif\",\r\n                                textAlign: \"center\"\r\n                            })\r\n                    ),\r\n\r\n                    //cpu占用\r\n                    $(go.Panel, \"Spot\",\r\n                        new go.Binding(\"opacity\", \"ribbon1\", function (t) {\r\n                            return t ? 1 : 0;\r\n                        }),\r\n                        // note that the opacity defaults to zero (not visible),\r\n                        // in case there is no \"ribbon\" property\r\n                        {\r\n                            opacity: 0,\r\n                            alignment: new go.Spot(1, 0.7, 0, 0),\r\n                            alignmentFocus: go.Spot.TopRight\r\n                        },\r\n                        $(go.Shape,\r\n                            new go.Binding(\"fill\", \"color\"), {\r\n                                geometryString: \"F10 M25 25 L25 0 100 0 100 25z\",\r\n                                fill: \"green\",\r\n                                stroke: null,\r\n                                strokeWidth: 0\r\n                            }\r\n                        ),\r\n                        $(go.TextBlock,\r\n                            new go.Binding(\"text\", \"ribbon1\", function (t) {\r\n                                return t + \"%\";\r\n                            }), {\r\n                                angle: 0,\r\n                                maxSize: new go.Size(100, NaN),\r\n                                stroke: \"white\",\r\n                                font: \"bold 13px sans-serif\",\r\n                                textAlign: \"center\"\r\n                            })\r\n                    )\r\n                )\r\n            );\r\n\r\n            //串口\r\n            myDiagram.nodeTemplateMap.add(\"ManualOperation\",\r\n                $(go.Node, \"Spot\",\r\n                    // new go.Binding(\"location\", \"loc\"),\r\n                    {\r\n                        locationSpot: go.Spot.Center,\r\n                        locationObjectName: \"BODY\",\r\n                        toEndSegmentLength: 30,\r\n                        fromEndSegmentLength: 30\r\n                    }, {\r\n                        selectionObjectName: \"BODY\"\r\n                    },\r\n\r\n                    $(go.Panel, \"Auto\", {\r\n                            name: \"BODY\",\r\n                            width: 70,\r\n                            height: 30\r\n                        },\r\n                        // { portId: \"\" },\r\n                        // { position: new go.Point(-50, 50), background: \"lightgreen\" },\r\n                        $(go.Shape, \"ManualOperation\", {\r\n                            fill: \"white\",\r\n                            stroke: null,\r\n                            strokeWidth: 0\r\n                        }),\r\n                        $(go.TextBlock,\r\n                            new go.Binding(\"text\", \"text\"), {\r\n                                width: 90,\r\n                                textAlign: \"center\"\r\n                            })\r\n                    ),\r\n                )\r\n            );\r\n\r\n            //以太网\r\n            myDiagram.nodeTemplateMap.add(\"Srio\",\r\n                $(go.Node, \"Spot\",\r\n                    $(go.Panel, \"Auto\", {\r\n                            name: \"BODY\",\r\n                            width: 60,\r\n                            height: 60\r\n                        }, {\r\n                            portId: \"\"\r\n                        }, {\r\n                            position: new go.Point(-50, 50),\r\n                            background: \"black\"\r\n                        },\r\n                        $(go.Shape, \"DividedEvent\", {\r\n                            fill: \"white\",\r\n                            stroke: null,\r\n                            strokeWidth: 0\r\n                        }),\r\n                        $(go.TextBlock,\r\n                            new go.Binding(\"text\", \"text\"), {\r\n                                width: 90,\r\n                                textAlign: \"center\"\r\n                            })\r\n                    ),\r\n                )\r\n            );\r\n\r\n            //40G或SRIO\r\n            myDiagram.nodeTemplateMap.add(\"StopSign\",\r\n                $(go.Node, \"Spot\", {\r\n                        dragComputation: stayInFixedArea\r\n                    },\r\n                    new go.Binding(\"desiredSize\", \"size\", go.Size.parse),\r\n                    // get and set the position in the model data\r\n                    new go.Binding(\"position\", \"pos\", go.Point.parse),\r\n                    $(go.Panel, \"Auto\", {\r\n                            name: \"BODY\",\r\n                            width: 72,\r\n                            height: 72\r\n                        },\r\n                        // { portId: \"\" },\r\n                        // { position: new go.Point(-50, 50), background: \"lightgreen\" },\r\n                        $(go.Shape, \"StopSign\", {\r\n                            fill: \"white\",\r\n                            stroke: null,\r\n                            strokeWidth: 0\r\n                        }),\r\n                        $(go.TextBlock,\r\n                            new go.Binding(\"text\", \"text\"), {\r\n                                width: 70,\r\n                                textAlign: \"center\"\r\n                            })\r\n                    ),\r\n                )\r\n            );\r\n\r\n            myDiagram.groupTemplateMap.add(\"test\", $(go.Group, \"Auto\", {\r\n\r\n                },\r\n                // declare the Group.layout:\r\n                {\r\n                    dragComputation: stayInFixedArea\r\n                },\r\n                new go.Binding(\"desiredSize\", \"size\", go.Size.parse),\r\n                new go.Binding(\"position\", \"pos\", go.Point.parse),\r\n                $(go.Shape, \"Rectangle\", // surrounds everything\r\n                    {\r\n                        parameter1: 10,\r\n                        fill: \"rgba(128,128,128,0.33)\"\r\n                    }\r\n                ),\r\n                $(go.Panel, \"Auto\", {\r\n                        width: 400,\r\n                        height: 0\r\n                    }, // position header above the subgraph\r\n                    $(go.TextBlock, // group title near top, next to button\r\n                        new go.Binding(\"text\", \"text\"), {\r\n                            font: \"Bold 12pt Sans-Serif\",\r\n                            textAlign: \"Bottom\",\r\n                            width: 60,\r\n                            wrap: go.TextBlock.WrapDesiredSize\r\n                        }),\r\n                    // $(go.Placeholder, // represents area for all member parts\r\n                    // )\r\n                )\r\n            ));\r\n\r\n            //多个组模板定义,\"OfGroup1\"为组模板的分类,在json用category指定组使用的模板\r\n            myDiagram.groupTemplateMap.add(\"OfGroup1\", $(go.Group, \"Auto\",\r\n                // declare the Group.layout:\r\n                {\r\n                    dragComputation: stayInFixedArea\r\n                },\r\n                new go.Binding(\"desiredSize\", \"size\", go.Size.parse),\r\n                // get and set the position in the model data\r\n                // new go.Binding(\"position\", \"pos\", go.Point.parse),\r\n                //   { layout: $(go.GridLayout,{\r\n                //      arrangement: ''\r\n                //   }) },\r\n                $(go.Shape, \"Rectangle\", // surrounds everything\r\n                    {\r\n                        parameter1: 10,\r\n                        fill: \"rgba(128,128,128,0.33)\"\r\n                    }\r\n                ),\r\n                $(go.Panel, \"Auto\", {\r\n\r\n                    }, // position header above the subgraph\r\n                    $(go.TextBlock, // group title near top, next to button\r\n                        new go.Binding(\"text\", \"text\"), {\r\n                            font: \"Bold 12pt Sans-Serif\",\r\n                            textAlign: \"left\"\r\n                        }),\r\n                    $(go.Placeholder, // represents area for all member parts\r\n                        {\r\n                            padding: 5,\r\n                        })\r\n                )\r\n            ));\r\n\r\n            myDiagram.groupTemplateMap.add(\"OfGroup2\", $(go.Group, \"Auto\",\r\n                // declare the Group.layout:\r\n                {\r\n                    layout: $(go.LayeredDigraphLayout, {})\r\n                }, {\r\n                    dragComputation: stayInFixedArea\r\n                },\r\n                new go.Binding(\"desiredSize\", \"size\", go.Size.parse),\r\n                // get and set the position in the model data\r\n                new go.Binding(\"position\", \"pos\", go.Point.parse),\r\n                $(go.Shape, \"Rectangle\", // surrounds everything\r\n                    {\r\n                        parameter1: 10,\r\n                        fill: \"rgba(128,128,128,0.33)\"\r\n                    }\r\n                ),\r\n                $(go.Panel, \"Auto\", {\r\n                        width: 150,\r\n                        height: 180\r\n                    }, // position header above the subgraph\r\n                    $(go.TextBlock, // group title near top, next to button\r\n                        {\r\n                            font: \"Bold 12pt Sans-Serif\"\r\n                        },\r\n                        new go.Binding(\"text\", \"text\")),\r\n                    $(go.Placeholder, // represents area for all member parts\r\n                        {\r\n                            padding: 5,\r\n                        })\r\n                )\r\n            ));\r\n\r\n            myDiagram.groupTemplateMap.add(\"OfGroup3\", $(go.Group, \"Auto\",\r\n                // declare the Group.layout:\r\n                //   { layout: $(go.GridLayout,{\r\n                //      arrangement: go.GridLayout.LeftToRight\r\n                //   }) },\r\n                {\r\n                    dragComputation: stayInFixedArea\r\n                },\r\n                new go.Binding(\"desiredSize\", \"size\", go.Size.parse),\r\n                // get and set the position in the model data\r\n                new go.Binding(\"position\", \"pos\", go.Point.parse),\r\n                $(go.Shape, \"Rectangle\", // surrounds everything\r\n                    {\r\n                        parameter1: 10,\r\n                        fill: \"rgba(128,128,128,0.33)\"\r\n                    }\r\n                ),\r\n                $(go.Panel, \"Vertical\", {\r\n                        width: 200,\r\n                        height: 180\r\n                    }, // position header above the subgraph\r\n                    $(go.TextBlock, // group title near top, next to button\r\n                        {\r\n                            font: \"Bold 12pt Sans-Serif\"\r\n                        },\r\n                        new go.Binding(\"text\", \"text\")),\r\n                    $(go.Placeholder, // represents area for all member parts\r\n                        {\r\n                            padding: 5,\r\n                        })\r\n                )\r\n            ));\r\n\r\n            // declare the Diagram.layout:\r\n            myDiagram.layout = $(go.LayeredDigraphLayout, {\r\n                direction: 90,\r\n                layerSpacing: 10,\r\n                isRealtime: false,\r\n                columnSpacing: 10\r\n            });\r\n\r\n            myDiagram.linkTemplateMap.add(\"Orthogonal\",\r\n                // myDiagram.linkTemplate =\r\n                $(go.Link,\r\n                    new go.Binding(\"fromSpot\", \"fromSpot\", go.Spot.parse),\r\n                    new go.Binding(\"toSpot\", \"toSpot\", go.Spot.parse), {\r\n                        selectable: false, // links cannot be selected by the user\r\n                        routing: go.Link.AvoidsNodes,\r\n                        curve: go.Link.JumpOver,\r\n                        layerName: \"Background\" // don't cross in front of any nodes\r\n                    },\r\n                    $(go.Shape, // this shape only shows when it isHighlighted\r\n                        {\r\n                            isPanelMain: true,\r\n                            stroke: null,\r\n                            strokeWidth: 5\r\n                        },\r\n                        new go.Binding(\"stroke\", \"isHighlighted\", function (h) {\r\n                            return h ? \"#436EEE\" : null;\r\n                        }).ofObject()),\r\n                    $(go.Shape,\r\n                        // mark each Shape to get the link geometry with isPanelMain: true\r\n                        {\r\n                            isPanelMain: true,\r\n                            stroke: \"#436EEE\",\r\n                            strokeWidth: 2\r\n                        },\r\n                        new go.Binding(\"stroke\", \"color\")),\r\n                    $(go.Shape, {\r\n                        toArrow: \"Standard\"\r\n                    }),\r\n                )\r\n            );\r\n\r\n            myDiagram.linkTemplateMap.add(\"Link\",\r\n                // myDiagram.linkTemplate =\r\n                $(go.Link, {\r\n                        routing: go.Link.AvoidsNodes, // may be either Orthogonal or AvoidsNodes\r\n                        curve: go.Link.JumpOver\r\n                    },\r\n                    $(go.Shape),\r\n                    $(go.Shape, {\r\n                        toArrow: \"Standard\"\r\n                    })\r\n                ));\r\n\r\n            console.log(\"this.nodeDataArray\", this.nodeDataArray);\r\n            myDiagram.model = new go.GraphLinksModel(this.nodeDataArray, this.linkDataArray);\r\n\r\n        },\r\n\r\n        getconfig() {\r\n            this.$axios({\r\n                method: \"post\",\r\n                url: '/sys/device/getconfig',\r\n                data: JSON.stringify({\r\n                    \"deviceId\": this.$route.params.menuId,\r\n                    \"key\": \"bhost_netconfig\"\r\n                }),\r\n                headers: {\r\n                    'Content-Type': \"application/json\"\r\n                },\r\n                withCredentials: true,\r\n            }).then(res => {\r\n                if (res.data.code == 0) {\r\n                    this.configData = res.data.data.config.data;\r\n\r\n                } else {\r\n                    this.$message.error(res.data.msg);\r\n                    clearInterval(this.cpu);\r\n                }\r\n            }).catch(error => {\r\n                this.$message.error('获取数据失败！');\r\n                clearInterval(this.cpu);\r\n            });\r\n        },\r\n        getProgressData() {\r\n            this.$axios({\r\n                method: \"post\",\r\n                url: '/sys/device/status',\r\n                data: JSON.stringify({\r\n                    id: this.$route.params.menuId,\r\n                    \"isSub\": true,\r\n                    \"keys\": [\r\n                        \"bht_host_sysprocess\"\r\n                    ]\r\n                }),\r\n                headers: {\r\n                    'Content-Type': \"application/json\"\r\n                },\r\n                withCredentials: true,\r\n            }).then(res => {\r\n                if (res.data.code == 0) {\r\n                    this.progressData = res.data.data.status.bht_host_sysprocess.data;\r\n\r\n                } else {\r\n                    this.$message.error(res.data.msg);\r\n                    clearInterval(this.cpu);\r\n                }\r\n            }).catch(error => {\r\n                this.$message.error('获取数据失败！');\r\n                clearInterval(this.cpu);\r\n            });\r\n        }\r\n    },\r\n    mounted: function () {\r\n        // this.getProgressData();\r\n        // this.getconfig();\r\n        this.getData();\r\n    }\r\n}\r\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Phytopo","sourcesContent":["<template>\r\n<el-col :span=\"24\">\r\n    <el-row :gutter=\"24\">\r\n        <el-col :span=\"24\">\r\n            <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                <div slot=\"header\" class=\"clearfix\">\r\n                    <h3>静态信息</h3>\r\n                </div>\r\n                <div id=\"myDiagramDiv\" style=\"border: 1px solid black; width: 99%; height: 700px; position: relative; -webkit-tap-highlight-color: rgba(255, 255, 255, 0);\"></div>\r\n            </el-card>\r\n        </el-col>\r\n    </el-row>\r\n</el-col>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    fetchData\r\n} from '../../api/index';\r\nexport default {\r\n\r\n    data() {\r\n        return {\r\n            configData: [],\r\n            progressData: [],\r\n            nodeDataArray: [],\r\n            linkDataArray: []\r\n        }\r\n    },\r\n    methods: {\r\n        // 获取 easy-mock 的模拟数据\r\n        getData() {\r\n            fetchData(this.query).then(res => {\r\n                //连线\r\n                var links = [];\r\n                for (var l = 0; l < res.SoltsLinks.length; l++) {\r\n                    var link = {};\r\n                    link[\"from\"] = res.SoltsLinks[l].from;\r\n                    link[\"to\"] = res.SoltsLinks[l].to;\r\n                    link[\"category\"] = res.SoltsLinks[l].category;\r\n                    link[\"fromSpot\"] = res.SoltsLinks[l].fromSpot;\r\n                    link[\"toSpot\"] = res.SoltsLinks[l].toSpot;\r\n                    links.push(link);\r\n                }\r\n                this.linkDataArray = links;\r\n                console.log('this.linkDataArray', this.linkDataArray);\r\n\r\n                //节点\r\n                var solts = [];\r\n                for (var i = 0; i < res.OnlineSolts.length; i++) {\r\n                    //首先第一个大组\r\n                    var group1 = {};\r\n                    group1[\"isGroup\"] = true;\r\n                    group1[\"key\"] = res.OnlineSolts[i].key;\r\n                    group1[\"subtype\"] = res.OnlineSolts[i].subtype;\r\n                    group1[\"text\"] = res.OnlineSolts[i].text;\r\n                    group1[\"category\"] = res.OnlineSolts[i].category;\r\n                    group1[\"size\"] = res.OnlineSolts[i].size;\r\n                    solts.push(group1);\r\n\r\n                    var Group = res.OnlineSolts[i].Group.length;\r\n                    //第二层组\r\n                    for (var j = 0; j < Group; j++) {\r\n                        var group2 = {};\r\n                        group2[\"key\"] = res.OnlineSolts[i].Group[j].key;\r\n                        group2[\"group\"] = res.OnlineSolts[i].Group[j].group;\r\n                        group2[\"isGroup\"] = true;\r\n                        group2[\"category\"] = res.OnlineSolts[i].Group[j].category;\r\n                        group2[\"pos\"] = res.OnlineSolts[i].Group[j].pos;\r\n                        group2[\"text\"] = res.OnlineSolts[i].Group[j].text;\r\n                        group2[\"size\"] = res.OnlineSolts[i].Group[j].size;\r\n                        solts.push(group2);\r\n\r\n                        var model = res.OnlineSolts[i].Group[j].Chips.length;\r\n                        //第三层模块\r\n                        if (model > 0) {\r\n                            for (var m = 0; m < model; m++) {\r\n                                var models = {};\r\n                                models[\"key\"] = res.OnlineSolts[i].Group[j].Chips[m].key;\r\n                                models[\"text\"] = res.OnlineSolts[i].Group[j].Chips[m].text;\r\n                                models[\"group\"] = res.OnlineSolts[i].Group[j].Chips[m].group;\r\n                                models[\"category\"] = res.OnlineSolts[i].Group[j].Chips[m].category;\r\n                                models[\"pos\"] = res.OnlineSolts[i].Group[j].Chips[m].pos;\r\n                                models[\"ribbon\"] = res.OnlineSolts[i].Group[j].Chips[m].ribbon;\r\n                                models[\"ribbon1\"] = res.OnlineSolts[i].Group[j].Chips[m].ribbon1;\r\n                                models[\"color\"] = res.OnlineSolts[i].Group[j].Chips[m].color;\r\n\r\n                                solts.push(models);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.nodeDataArray = solts;\r\n                this.setTopo();\r\n            });\r\n        },\r\n        setTopo() {\r\n            if (window.goSamples) goSamples(); // init for these samples -- you don't need to call this\r\n            var $ = go.GraphObject.make; // for conciseness in defining templates\r\n            var myDiagram =\r\n                $(go.Diagram, \"myDiagramDiv\", // Diagram refers to its DIV HTML element by id\r\n                    {\r\n                        maxSelectionCount: 1, // no more than 1 element can be selected at a time\r\n                        allowHorizontalScroll: true, // disallow scrolling or panning\r\n                        allowVerticalScroll: true,\r\n                        allowZoom: true, // disallow zooming\r\n                        allowMove: false,\r\n                        \"animationManager.isEnabled\": false,\r\n                        \"undoManager.isEnabled\": false,\r\n                    });\r\n            // the background Part showing the fixed bounds of the diagram contents\r\n            //   myDiagram.add(\r\n            //     $(go.Part,\r\n            //       { layerName: \"Horizontal\", position: myDiagram.fixedBounds.position },\r\n            //       $(go.Shape, { fill: \"oldlace\", strokeWidth: 0, desiredSize: myDiagram.fixedBounds.size })\r\n            //     ));\r\n\r\n            // this function is the Node.dragComputation, to limit the movement of the parts\r\n            // use GRIDPT instead of PT if DraggingTool.isGridSnapEnabled and movement should snap to grid\r\n            function stayInFixedArea(part, pt, gridpt) {\r\n                var diagram = part.diagram;\r\n                if (diagram === null) return pt;\r\n                // compute the document area without padding\r\n                var v = diagram.documentBounds.copy();\r\n                v.subtractMargin(diagram.padding);\r\n                // get the bounds of the part being dragged\r\n                var b = part.actualBounds;\r\n                var loc = part.location;\r\n                // now limit the location appropriately\r\n                var x = Math.max(v.x, Math.min(pt.x, v.right - b.width)) + (loc.x - b.x);\r\n                var y = Math.max(v.y, Math.min(pt.y, v.bottom - b.height)) + (loc.y - b.y);\r\n                return new go.Point(x, y);\r\n            }\r\n            myDiagram.nodeTemplateMap.add(\"Rectangle\",\r\n                $(go.Node, \"Spot\", {\r\n                        avoidable: true\r\n                    }, {\r\n                        dragComputation: stayInFixedArea\r\n                    },\r\n                    // get the size from the model data\r\n                    new go.Binding(\"desiredSize\", \"size\", go.Size.parse),\r\n                    // get and set the position in the model data\r\n                    new go.Binding(\"position\", \"pos\", go.Point.parse).makeTwoWay(go.Point.stringify),\r\n\r\n                    $(go.Panel, \"Auto\", {\r\n                            name: \"\",\r\n                            width: 75,\r\n                            height: 75\r\n                        },\r\n                        // { portId: \"\" },\r\n                        // { position: new go.Point(50, 50), background: \"\" },\r\n                        $(go.Shape, {\r\n                            fill: \"white\",\r\n                            stroke: null,\r\n                            strokeWidth: 0\r\n                        }),\r\n                        $(go.TextBlock,\r\n                            new go.Binding(\"text\", \"text\"), {\r\n                                width: 90,\r\n                                textAlign: \"center\"\r\n                            })\r\n                    ),\r\n                    //黑块小三角\r\n                    $(go.Panel, \"Spot\",\r\n                        new go.Binding(\"opacity\", \"ribbon\", function (t) {\r\n                            return t ? 1 : 0;\r\n                        }),\r\n                        // note that the opacity defaults to zero (not visible),\r\n                        // in case there is no \"ribbon\" property\r\n                        {\r\n                            opacity: 0,\r\n                            alignment: new go.Spot(1, 0, 0, 0),\r\n                            alignmentFocus: go.Spot.TopRight\r\n                        },\r\n                        $(go.Shape, // the ribbon itself\r\n                            {\r\n                                geometryString: \"F1 M0 0 L50 0 50 50 50 50z\",\r\n                                fill: \"black\",\r\n                                stroke: null,\r\n                                strokeWidth: 0\r\n                            }),\r\n                        $(go.TextBlock,\r\n                            new go.Binding(\"text\", \"ribbon\"), {\r\n                                alignment: new go.Spot(1, 0, -20, 15),\r\n                                angle: 45,\r\n                                maxSize: new go.Size(100, NaN),\r\n                                stroke: \"white\",\r\n                                font: \"bold 13px sans-serif\",\r\n                                textAlign: \"center\"\r\n                            })\r\n                    ),\r\n\r\n                    //cpu占用\r\n                    $(go.Panel, \"Spot\",\r\n                        new go.Binding(\"opacity\", \"ribbon1\", function (t) {\r\n                            return t ? 1 : 0;\r\n                        }),\r\n                        // note that the opacity defaults to zero (not visible),\r\n                        // in case there is no \"ribbon\" property\r\n                        {\r\n                            opacity: 0,\r\n                            alignment: new go.Spot(1, 0.7, 0, 0),\r\n                            alignmentFocus: go.Spot.TopRight\r\n                        },\r\n                        $(go.Shape,\r\n                            new go.Binding(\"fill\", \"color\"), {\r\n                                geometryString: \"F10 M25 25 L25 0 100 0 100 25z\",\r\n                                fill: \"green\",\r\n                                stroke: null,\r\n                                strokeWidth: 0\r\n                            }\r\n                        ),\r\n                        $(go.TextBlock,\r\n                            new go.Binding(\"text\", \"ribbon1\", function (t) {\r\n                                return t + \"%\";\r\n                            }), {\r\n                                angle: 0,\r\n                                maxSize: new go.Size(100, NaN),\r\n                                stroke: \"white\",\r\n                                font: \"bold 13px sans-serif\",\r\n                                textAlign: \"center\"\r\n                            })\r\n                    )\r\n                )\r\n            );\r\n\r\n            //串口\r\n            myDiagram.nodeTemplateMap.add(\"ManualOperation\",\r\n                $(go.Node, \"Spot\",\r\n                    // new go.Binding(\"location\", \"loc\"),\r\n                    {\r\n                        locationSpot: go.Spot.Center,\r\n                        locationObjectName: \"BODY\",\r\n                        toEndSegmentLength: 30,\r\n                        fromEndSegmentLength: 30\r\n                    }, {\r\n                        selectionObjectName: \"BODY\"\r\n                    },\r\n\r\n                    $(go.Panel, \"Auto\", {\r\n                            name: \"BODY\",\r\n                            width: 70,\r\n                            height: 30\r\n                        },\r\n                        // { portId: \"\" },\r\n                        // { position: new go.Point(-50, 50), background: \"lightgreen\" },\r\n                        $(go.Shape, \"ManualOperation\", {\r\n                            fill: \"white\",\r\n                            stroke: null,\r\n                            strokeWidth: 0\r\n                        }),\r\n                        $(go.TextBlock,\r\n                            new go.Binding(\"text\", \"text\"), {\r\n                                width: 90,\r\n                                textAlign: \"center\"\r\n                            })\r\n                    ),\r\n                )\r\n            );\r\n\r\n            //以太网\r\n            myDiagram.nodeTemplateMap.add(\"Srio\",\r\n                $(go.Node, \"Spot\",\r\n                    $(go.Panel, \"Auto\", {\r\n                            name: \"BODY\",\r\n                            width: 60,\r\n                            height: 60\r\n                        }, {\r\n                            portId: \"\"\r\n                        }, {\r\n                            position: new go.Point(-50, 50),\r\n                            background: \"black\"\r\n                        },\r\n                        $(go.Shape, \"DividedEvent\", {\r\n                            fill: \"white\",\r\n                            stroke: null,\r\n                            strokeWidth: 0\r\n                        }),\r\n                        $(go.TextBlock,\r\n                            new go.Binding(\"text\", \"text\"), {\r\n                                width: 90,\r\n                                textAlign: \"center\"\r\n                            })\r\n                    ),\r\n                )\r\n            );\r\n\r\n            //40G或SRIO\r\n            myDiagram.nodeTemplateMap.add(\"StopSign\",\r\n                $(go.Node, \"Spot\", {\r\n                        dragComputation: stayInFixedArea\r\n                    },\r\n                    new go.Binding(\"desiredSize\", \"size\", go.Size.parse),\r\n                    // get and set the position in the model data\r\n                    new go.Binding(\"position\", \"pos\", go.Point.parse),\r\n                    $(go.Panel, \"Auto\", {\r\n                            name: \"BODY\",\r\n                            width: 72,\r\n                            height: 72\r\n                        },\r\n                        // { portId: \"\" },\r\n                        // { position: new go.Point(-50, 50), background: \"lightgreen\" },\r\n                        $(go.Shape, \"StopSign\", {\r\n                            fill: \"white\",\r\n                            stroke: null,\r\n                            strokeWidth: 0\r\n                        }),\r\n                        $(go.TextBlock,\r\n                            new go.Binding(\"text\", \"text\"), {\r\n                                width: 70,\r\n                                textAlign: \"center\"\r\n                            })\r\n                    ),\r\n                )\r\n            );\r\n\r\n            myDiagram.groupTemplateMap.add(\"test\", $(go.Group, \"Auto\", {\r\n\r\n                },\r\n                // declare the Group.layout:\r\n                {\r\n                    dragComputation: stayInFixedArea\r\n                },\r\n                new go.Binding(\"desiredSize\", \"size\", go.Size.parse),\r\n                new go.Binding(\"position\", \"pos\", go.Point.parse),\r\n                $(go.Shape, \"Rectangle\", // surrounds everything\r\n                    {\r\n                        parameter1: 10,\r\n                        fill: \"rgba(128,128,128,0.33)\"\r\n                    }\r\n                ),\r\n                $(go.Panel, \"Auto\", {\r\n                        width: 400,\r\n                        height: 0\r\n                    }, // position header above the subgraph\r\n                    $(go.TextBlock, // group title near top, next to button\r\n                        new go.Binding(\"text\", \"text\"), {\r\n                            font: \"Bold 12pt Sans-Serif\",\r\n                            textAlign: \"Bottom\",\r\n                            width: 60,\r\n                            wrap: go.TextBlock.WrapDesiredSize\r\n                        }),\r\n                    // $(go.Placeholder, // represents area for all member parts\r\n                    // )\r\n                )\r\n            ));\r\n\r\n            //多个组模板定义,\"OfGroup1\"为组模板的分类,在json用category指定组使用的模板\r\n            myDiagram.groupTemplateMap.add(\"OfGroup1\", $(go.Group, \"Auto\",\r\n                // declare the Group.layout:\r\n                {\r\n                    dragComputation: stayInFixedArea\r\n                },\r\n                new go.Binding(\"desiredSize\", \"size\", go.Size.parse),\r\n                // get and set the position in the model data\r\n                // new go.Binding(\"position\", \"pos\", go.Point.parse),\r\n                //   { layout: $(go.GridLayout,{\r\n                //      arrangement: ''\r\n                //   }) },\r\n                $(go.Shape, \"Rectangle\", // surrounds everything\r\n                    {\r\n                        parameter1: 10,\r\n                        fill: \"rgba(128,128,128,0.33)\"\r\n                    }\r\n                ),\r\n                $(go.Panel, \"Auto\", {\r\n\r\n                    }, // position header above the subgraph\r\n                    $(go.TextBlock, // group title near top, next to button\r\n                        new go.Binding(\"text\", \"text\"), {\r\n                            font: \"Bold 12pt Sans-Serif\",\r\n                            textAlign: \"left\"\r\n                        }),\r\n                    $(go.Placeholder, // represents area for all member parts\r\n                        {\r\n                            padding: 5,\r\n                        })\r\n                )\r\n            ));\r\n\r\n            myDiagram.groupTemplateMap.add(\"OfGroup2\", $(go.Group, \"Auto\",\r\n                // declare the Group.layout:\r\n                {\r\n                    layout: $(go.LayeredDigraphLayout, {})\r\n                }, {\r\n                    dragComputation: stayInFixedArea\r\n                },\r\n                new go.Binding(\"desiredSize\", \"size\", go.Size.parse),\r\n                // get and set the position in the model data\r\n                new go.Binding(\"position\", \"pos\", go.Point.parse),\r\n                $(go.Shape, \"Rectangle\", // surrounds everything\r\n                    {\r\n                        parameter1: 10,\r\n                        fill: \"rgba(128,128,128,0.33)\"\r\n                    }\r\n                ),\r\n                $(go.Panel, \"Auto\", {\r\n                        width: 150,\r\n                        height: 180\r\n                    }, // position header above the subgraph\r\n                    $(go.TextBlock, // group title near top, next to button\r\n                        {\r\n                            font: \"Bold 12pt Sans-Serif\"\r\n                        },\r\n                        new go.Binding(\"text\", \"text\")),\r\n                    $(go.Placeholder, // represents area for all member parts\r\n                        {\r\n                            padding: 5,\r\n                        })\r\n                )\r\n            ));\r\n\r\n            myDiagram.groupTemplateMap.add(\"OfGroup3\", $(go.Group, \"Auto\",\r\n                // declare the Group.layout:\r\n                //   { layout: $(go.GridLayout,{\r\n                //      arrangement: go.GridLayout.LeftToRight\r\n                //   }) },\r\n                {\r\n                    dragComputation: stayInFixedArea\r\n                },\r\n                new go.Binding(\"desiredSize\", \"size\", go.Size.parse),\r\n                // get and set the position in the model data\r\n                new go.Binding(\"position\", \"pos\", go.Point.parse),\r\n                $(go.Shape, \"Rectangle\", // surrounds everything\r\n                    {\r\n                        parameter1: 10,\r\n                        fill: \"rgba(128,128,128,0.33)\"\r\n                    }\r\n                ),\r\n                $(go.Panel, \"Vertical\", {\r\n                        width: 200,\r\n                        height: 180\r\n                    }, // position header above the subgraph\r\n                    $(go.TextBlock, // group title near top, next to button\r\n                        {\r\n                            font: \"Bold 12pt Sans-Serif\"\r\n                        },\r\n                        new go.Binding(\"text\", \"text\")),\r\n                    $(go.Placeholder, // represents area for all member parts\r\n                        {\r\n                            padding: 5,\r\n                        })\r\n                )\r\n            ));\r\n\r\n            // declare the Diagram.layout:\r\n            myDiagram.layout = $(go.LayeredDigraphLayout, {\r\n                direction: 90,\r\n                layerSpacing: 10,\r\n                isRealtime: false,\r\n                columnSpacing: 10\r\n            });\r\n\r\n            myDiagram.linkTemplateMap.add(\"Orthogonal\",\r\n                // myDiagram.linkTemplate =\r\n                $(go.Link,\r\n                    new go.Binding(\"fromSpot\", \"fromSpot\", go.Spot.parse),\r\n                    new go.Binding(\"toSpot\", \"toSpot\", go.Spot.parse), {\r\n                        selectable: false, // links cannot be selected by the user\r\n                        routing: go.Link.AvoidsNodes,\r\n                        curve: go.Link.JumpOver,\r\n                        layerName: \"Background\" // don't cross in front of any nodes\r\n                    },\r\n                    $(go.Shape, // this shape only shows when it isHighlighted\r\n                        {\r\n                            isPanelMain: true,\r\n                            stroke: null,\r\n                            strokeWidth: 5\r\n                        },\r\n                        new go.Binding(\"stroke\", \"isHighlighted\", function (h) {\r\n                            return h ? \"#436EEE\" : null;\r\n                        }).ofObject()),\r\n                    $(go.Shape,\r\n                        // mark each Shape to get the link geometry with isPanelMain: true\r\n                        {\r\n                            isPanelMain: true,\r\n                            stroke: \"#436EEE\",\r\n                            strokeWidth: 2\r\n                        },\r\n                        new go.Binding(\"stroke\", \"color\")),\r\n                    $(go.Shape, {\r\n                        toArrow: \"Standard\"\r\n                    }),\r\n                )\r\n            );\r\n\r\n            myDiagram.linkTemplateMap.add(\"Link\",\r\n                // myDiagram.linkTemplate =\r\n                $(go.Link, {\r\n                        routing: go.Link.AvoidsNodes, // may be either Orthogonal or AvoidsNodes\r\n                        curve: go.Link.JumpOver\r\n                    },\r\n                    $(go.Shape),\r\n                    $(go.Shape, {\r\n                        toArrow: \"Standard\"\r\n                    })\r\n                ));\r\n\r\n            console.log(\"this.nodeDataArray\", this.nodeDataArray);\r\n            myDiagram.model = new go.GraphLinksModel(this.nodeDataArray, this.linkDataArray);\r\n\r\n        },\r\n\r\n        getconfig() {\r\n            this.$axios({\r\n                method: \"post\",\r\n                url: '/sys/device/getconfig',\r\n                data: JSON.stringify({\r\n                    \"deviceId\": this.$route.params.menuId,\r\n                    \"key\": \"bhost_netconfig\"\r\n                }),\r\n                headers: {\r\n                    'Content-Type': \"application/json\"\r\n                },\r\n                withCredentials: true,\r\n            }).then(res => {\r\n                if (res.data.code == 0) {\r\n                    this.configData = res.data.data.config.data;\r\n\r\n                } else {\r\n                    this.$message.error(res.data.msg);\r\n                    clearInterval(this.cpu);\r\n                }\r\n            }).catch(error => {\r\n                this.$message.error('获取数据失败！');\r\n                clearInterval(this.cpu);\r\n            });\r\n        },\r\n        getProgressData() {\r\n            this.$axios({\r\n                method: \"post\",\r\n                url: '/sys/device/status',\r\n                data: JSON.stringify({\r\n                    id: this.$route.params.menuId,\r\n                    \"isSub\": true,\r\n                    \"keys\": [\r\n                        \"bht_host_sysprocess\"\r\n                    ]\r\n                }),\r\n                headers: {\r\n                    'Content-Type': \"application/json\"\r\n                },\r\n                withCredentials: true,\r\n            }).then(res => {\r\n                if (res.data.code == 0) {\r\n                    this.progressData = res.data.data.status.bht_host_sysprocess.data;\r\n\r\n                } else {\r\n                    this.$message.error(res.data.msg);\r\n                    clearInterval(this.cpu);\r\n                }\r\n            }).catch(error => {\r\n                this.$message.error('获取数据失败！');\r\n                clearInterval(this.cpu);\r\n            });\r\n        }\r\n    },\r\n    mounted: function () {\r\n        // this.getProgressData();\r\n        // this.getconfig();\r\n        this.getData();\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#myDiagramDiv {\r\n    background-color: #F8F8F8;\r\n    border: 1px solid #aaa;\r\n}\r\n</style>\r\n"]}]}